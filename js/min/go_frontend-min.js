function go_blog_favorite(e){if(blog_post_id=jQuery(e).attr("data-post_id"),jQuery(e).is(":checked"))var t=!0;else t=!1;var o,a={action:"go_blog_favorite_toggle",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_blog_favorite_toggle,blog_post_id:blog_post_id,checked:t};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:a,error:function(e,t,o){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){}})}function go_blog_tags_select2(){jQuery(".go_feedback_go_blog_tags_select").select2({ajax:{url:MyAjax.ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:"go_blog_tags",is_hier:!1}},processResults:function(e){return jQuery(".go_feedback_go_blog_tags_select").select2("destroy"),jQuery(".go_feedback_go_blog_tags_select").children().remove(),jQuery(".go_feedback_go_blog_tags_select").select2({data:e,placeholder:"Show All",allowClear:!0}).trigger("change"),jQuery(".go_feedback_go_blog_tags_select").select2("open"),{results:e}},cache:!0},minimumInputLength:0,multiple:!0,placeholder:"Show All",allowClear:!0})}function task_stage_check_input(e,t){console.log("task_stage_check_input"),go_enable_loading(e);var o="";void 0!==jQuery(e).attr("button_type")&&(o=jQuery(e).attr("button_type"),console.log("button_type: "+o));var a="";void 0!==jQuery(e).attr("status")&&(a=jQuery(e).attr("status"));var r="";void 0!==jQuery(e).attr("check_type")&&(r=jQuery(e).attr("check_type"),console.log("Check Type: "+r));var l=!1;jQuery(".go_error_msg").text("");var _='<ul style=" text-align: left;"> ',s=jQuery(e).attr("url_toggle"),i=jQuery(e).attr("video_toggle"),n=jQuery(e).attr("file_toggle"),g=jQuery(e).attr("text_toggle"),c=jQuery(e).attr("blog_suffix"),u="#go_result_video"+c,d="#go_result_url"+c,p="#go_result_media"+c,b;if(console.log("suffix: "+c),"blog"==r||"blog_lightbox"==r){if("1"==i){var h=jQuery(u).attr("value").replace(/\s+/,"");console.log(h),h.length>0?!h.match(/^(http:\/\/|https:\/\/).*\..*$/)||h.lastIndexOf("http://")>0||h.lastIndexOf("https://")>0?(_+="<li>Enter a valid video URL. YouTube and Vimeo are supported.</li>",l=!0):-1==h.search("youtube")&&-1==h.search("vimeo")&&(_+="<li>Enter a valid video URL. YouTube and Vimeo are supported.</li>",l=!0):(_+="<li>Enter a valid video URL. YouTube and Vimeo are supported.</li>",l=!0)}if("1"==g){var y=jQuery(e).attr("min_words"),f=tinymce_getContentLength_new(r);f<y&&(_+="<li>Your post is not long enough. There must be "+y+" words minimum. You have "+f+" words.</li>",l=!0,jQuery(e).closest(".go_checks_and_buttons").find("#go_save_button").trigger("click"))}}"password"!==r&&"unlock"!=r||(jQuery("#go_result").attr("value").length>0||(_+="Retrieve the password from "+go_task_data.admin_name+".",l=!0));if("URL"==r||("blog"==r||"blog_lightbox"==r)&&1==s){if("URL"==r)var h=jQuery("#go_result").attr("value").replace(/\s+/,"");else var h=jQuery(d).attr("value").replace(/\s+/,""),j=jQuery(e).attr("required_string");console.log("URL"+h),h.length>0?!h.match(/^(http:\/\/|https:\/\/).*\..*$/)||h.lastIndexOf("http://")>0||h.lastIndexOf("https://")>0?(_+="<li>Enter a valid URL.</li>",l=!0):"blog"!=r&&"blog_lightbox"!=r||-1==h.indexOf(j)&&(_+='<li>Enter a valid URL. The URL must contain "'+j+'".</li>',l=!0):(_+="<li>Enter a valid URL.</li>",go_disable_loading(),l=!0)}if("upload"==r||("blog"==r||"blog_lightbox"==r)&&1==n){if("upload"==r)var Q=jQuery("#go_result").attr("value");else var Q=jQuery(p).attr("value");null==Q&&(_+="<li>Please attach a file.</li>",l=!0)}if("quiz"==r){var v=jQuery(e).closest(".go_checks_and_buttons").find(" .go_test_list");if(v.length>=1){for(var k=0,m=0;m<v.length;m++){var w="#go_test_container_"+(parseFloat(a)+1)+" .go_test_"+m+" input:checked",x;console.log("obj_str: "+w),jQuery(w).length>=1&&k++}console.log("checked_ans:"+k),k>=v.length?(go_quiz_check_answers(a,e),l=!0):v.length>1?(_+="<li>Please answer all questions!</li>",l=!0):(_+="<li>Please answer the question!</li>",l=!0)}}if(_+="</ul>",1==l)return 1==t?(console.log("error_stage"),console.log("message:"+_),jQuery("#go_blog_stage_error_msg").append(_),jQuery("#go_blog_stage_error_msg").show()):(console.log("error_blog"),jQuery("#go_blog_error_msg").append(_),jQuery("#go_blog_error_msg").show()),console.log("error validation"),swal.fire({title:"There are errors with your submission.",html:_,type:"error"}),void go_disable_loading();jQuery("#go_blog_stage_error_msg").hide(),jQuery("#go_blog_error_msg").hide(),1==t?task_stage_change(e):go_blog_submit(e,!0)}function go_enable_loading(e){jQuery(e).hasClass("go_button_round")?jQuery(e).find(".go_round_inner").html("<i class='fa fa-spinner fa-pulse'></i>"):e.innerHTML='<span class="go_loading"><i class="fa fa-spinner fa-pulse"></i></span> '+e.innerHTML}function go_disable_loading(){jQuery(".go_loading").remove(),jQuery("#go_save_button .go_round_inner").html("<i class='fa fa-save'></i>"),jQuery(".go_blog_trash .go_round_inner").html("<i class='fa fa-trash'></i>"),jQuery(".go_blog_opener_round .go_round_inner").html("<i class='fa fa-pencil'></i>"),jQuery("#go_button").off().one("click",function(e){task_stage_check_input(this,!0)}),jQuery("#go_back_button").off().one("click",function(e){task_stage_change(this)}),jQuery("#go_save_button").off().one("click",function(e){go_blog_submit(this,!1)}),jQuery("#go_bonus_button").off().one("click",function(e){go_update_bonus_loot(this)}),jQuery(".go_str_item").off().one("click",function(e){go_lb_opener(this.id)}),jQuery(".go_blog_opener").off().one("click",function(e){go_blog_opener(this)}),jQuery(".go_blog_trash").off().one("click",function(e){go_blog_trash(this)}),jQuery("#go_blog_submit").off().one("click",function(e){task_stage_check_input(this,!1)}),jQuery(".progress").closest(".go_checks_and_buttons").addClass("active")}function tinymce_getContentLength_new(e){if("blog_lightbox"==e)var t=go_tmce_getContent("go_blog_post_lightbox");else var t=go_tmce_getContent("go_blog_post");var o=0;if(t){var a=(t=(t=(t=(t=t.replace(/\.\.\./g," ")).replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ")).replace(/(\w+)(&#?[a-z0-9]+;)+(\w+)/i,"$1$3").replace(/&.+?;/g," ")).replace(/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,"")).match(/[\w\u2019\x27\-\u00C0-\u1FFF]+/g);a&&(o=a.length)}return o}function go_blog_opener(e){go_enable_loading(e),jQuery("#go_hidden_mce").remove(),jQuery(".go_blog_opener").prop("onclick",null).off("click");var t=jQuery(e).attr("data-check_for_understanding"),o=jQuery(e).attr("blog_post_id"),a,r={action:"go_blog_opener",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_blog_opener,blog_post_id:o,check_for_understanding:t};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:r,cache:!1,error:function(e,t,o){go_disable_loading(),400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(t){if("login"==t&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}]),"locked"==t){var a=jQuery(e).closest(".go_blog_post_wrapper").find(".go_post_title").html();return swal.fire({title:"Locked",html:a+" is locked. It must be unlocked before this blog post can be edited. Click on the blog post title to go to the ",type:"warning"}),void go_disable_loading()}jQuery.featherlight(t,{afterContent:function(){console.log("aftercontent"),jQuery("body").attr("data-go_blog_saved","0"),jQuery("body").attr("data-go_blog_updated","0"),jQuery("#go_result_url_lightbox, #go_result_video_lightbox").change(function(){jQuery("body").attr("data-go_blog_updated","1")}),jQuery(".go_frontend-button").on("click",function(){jQuery("body").attr("data-go_blog_updated","1")});var e="go_blog_post_lightbox";tinymce.execCommand("mceRemoveEditor",!0,e),quicktags({id:e}),tinymce.init({selector:e,setup:function(e){e.on("keyup",function(e){jQuery("body").attr("data-go_blog_updated","1"),console.log("updated")})},branding:!1,theme:"modern",skin:"lightgray",language:"en",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table,dl.wp-caption",classes:"alignleft"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img,table,dl.wp-caption",classes:"aligncenter"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table,dl.wp-caption",classes:"alignright"}],strikethrough:{inline:"del"}},relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:!1,paste_webkit_styles:"font-weight font-style color",preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",wpeditimage_disable_captions:!1,wpeditimage_html5_captions:!0,plugins:"charmap,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpeditimage,wpgallery,wplink,wpdialogs,wpview,wordcount",selector:"#"+e,resize:"vertical",menubar:!1,wpautop:!0,wordpress_adv_hidden:!1,indent:!1,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,wp_more,spellchecker,fullscreen,wp_adv",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",toolbar3:"",toolbar4:"",tabfocus_elements:":prev,:next",body_class:"id post-type-post post-status-publish post-format-standard"}),tinyMCE.execCommand("mceAddEditor",!1,e)},beforeClose:function(){var e,t;if(console.log("beforeClose"),"1"==jQuery("body").attr("data-go_blog_updated"))return swal.fire({title:"You have unsaved changes.",text:"Would you like to save? If you don't save you will not be able to recover these changes.",type:"warning",showCancelButton:!0,confirmButtonText:"Save and Close",cancelButtonText:"Close without Saving",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(e=>{e.value?jQuery("#go_save_button_lightbox").length?jQuery("#go_save_button_lightbox").trigger("click"):jQuery("#go_blog_submit").trigger("click"):(Swal.fire("Your changes were not saved."),jQuery("body").attr("data-go_blog_updated","0"),jQuery.featherlight.close())}),!1;(jQuery(".go_blog_post_wrapper_"+o).length=0)&&location.reload()}}),jQuery(".featherlight").css("background","rgba(0,0,0,.8)"),jQuery(".featherlight .featherlight-content").css("width","80%"),jQuery(".go_blog_opener").one("click",function(e){go_blog_opener(this)}),go_disable_loading()}})}function go_blog_submit(e,t){go_enable_loading(e);var o=GO_EVERY_PAGE_DATA.nonces.go_blog_submit,a=jQuery(e).attr("blog_suffix"),r;if("fixed"==jQuery("#go_blog_title"+a).data("blog_post_title"))var r=jQuery("#go_blog_title"+a).html();else""==(r=jQuery("#go_blog_title"+a).val())&&(r="My Blog Post");var l=jQuery(e).attr("button_type"),_=go_get_tinymce_content_blog(a);console.log("go_blog_submit");var s=jQuery("#go_blog_title"+a).attr("data-blog_post_id");console.log("blog_post_id: "+s);var i=".go_blog_post_wrapper_"+s,n=jQuery(e).attr("data-bonus_status"),g=jQuery(e).attr("status"),c=jQuery(e).attr("task_id"),u=jQuery(e).attr("data-check_for_understanding"),d=jQuery("#go_result_url"+a).val();if(jQuery("#go_private_post"+a).is(":checked"))var p=!0;var b=jQuery("#go_result_media"+a).attr("value"),h=jQuery("#go_result_video"+a).val();console.log("blog_private: "+p);var y={action:"go_blog_submit",_ajax_nonce:o,result:_,result_title:r,blog_post_id:s,blog_url:d,blog_media:b,blog_video:h,blog_private:p,go_blog_task_stage:g,go_blog_bonus_stage:n,post_id:c,button:l,check_for_understanding:u};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:y,cache:!1,error:function(e,t,o){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){if("refresh"!==e){var o={};try{var o=JSON.parse(e)}catch(e){o={json_status:"101",message:"",blog_post_id:"",wrapper:""}}if(jQuery("body").attr("data-go_blog_updated","0"),jQuery("body").append(o.message),go_disable_loading(),jQuery("#go_save_button"+a).off().one("click",function(e){go_blog_submit(this,!1)}),jQuery("#go_save_button"+a).attr("blog_post_id",o.blog_post_id),jQuery("#go_blog_title"+a).attr("data-blog_post_id",o.blog_post_id),1==t){var r=jQuery(i).length,l;console.log("reload is true:"+r),jQuery.featherlight.current().close(),jQuery(i).length>0?(jQuery(i).replaceWith(o.wrapper),jQuery(".feedback_accordion").accordion({collapsible:!0,active:!1}),go_disable_loading()):location.reload()}}else go_refresh_page_on_error()}})}function go_blog_trash(e){go_enable_loading(e),Swal.fire({title:"Are you sure?",text:"Do you really want to delete this post?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(t=>{if(t.value){var o=GO_EVERY_PAGE_DATA.nonces.go_blog_trash,a=jQuery(e).attr("blog_post_id"),r={action:"go_blog_trash",_ajax_nonce:o,blog_post_id:a};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:r,cache:!1,error:function(e,t,o){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){var t;jQuery("body").append(e),jQuery(".go_blog_post_wrapper_"+a).hide(),jQuery(".go_blog_trash").off().one("click",function(e){go_blog_trash(this)}),swal.fire({text:"Poof! Your post has been deleted!",type:"success"})}}),go_disable_loading(e)}else swal.fire({text:"Your post is safe!"}),go_disable_loading(e)})}function go_get_tinymce_content_blog(e){return jQuery("#wp-go_blog_post_edit-wrap .wp-editor-area").is(":visible")?jQuery("#wp-go_blog_post_edit-wrap .wp-editor-area").val():go_tmce_getContent("_lightbox"==e?"go_blog_post_lightbox":"go_blog_post")}function go_blog_user_task(e,t){console.log("blogs!");var o=GO_EVERY_PAGE_DATA.nonces.go_blog_user_task;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:o,action:"go_blog_user_task",uid:e,task_id:t},error:function(e,t,o){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){jQuery.featherlight(e,{variant:"blogs",afterOpen:function(e){go_fit_and_max_only("#go_blog_container")}})}})}function go_tmce_getContent(e,t){return void 0===e&&(e=wpActiveEditor),void 0===t&&(t=e),jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).getContent():jQuery("#"+t).val()}function go_tmce_setContent(e,t,o){return void 0===t&&(t=wpActiveEditor),void 0===o&&(o=t),jQuery("#wp-"+t+"-wrap").hasClass("tmce-active")&&tinyMCE.get(t)?tinyMCE.get(t).setContent(e):jQuery("#"+o).val(e)}function go_tmce_focus(e,t){return void 0===e&&(e=wpActiveEditor),void 0===t&&(t=e),jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).focus():jQuery("#"+t).focus()}function go_reader_update(){console.log("update reader"),jQuery("#loader_container").show(),jQuery("#go_posts_wrapper").hide(),jQuery(".go_update_clipboard").removeClass("bluepulse"),jQuery(".go_update_clipboard").html('<span class="ui-button-text">Refresh Data <span class="dashicons dashicons-update" style="vertical-align: center;"></span></span>'),jQuery(".go_update_clipboard").prop("onclick",null).off("click"),jQuery(".go_update_clipboard").one("click",function(){go_reader_update()});var e=jQuery("#go_datepicker_clipboard span").html(),t=jQuery("#go_clipboard_user_go_sections_select").val(),o=jQuery("#go_clipboard_user_go_groups_select").val(),a=jQuery("#go_clipboard_go_badges_select").val(),r=jQuery("#go_task_select").val(),l=jQuery("#go_reader_unread").prop("checked"),_=jQuery("#go_reader_read").prop("checked"),s=jQuery("#go_reader_reset").prop("checked"),i=jQuery("#go_reader_trash").prop("checked"),n=jQuery("#go_reader_draft").prop("checked"),g=jQuery("input[name='go_reader_order']:checked").val(),c=jQuery("#go_posts_num").val(),u=GO_EVERY_PAGE_DATA.nonces.go_filter_reader;jQuery.ajax({url:MyAjax.ajaxurl,type:"post",data:{_ajax_nonce:u,action:"go_filter_reader",date:e,section:t,group:o,badge:a,tasks:r,unread:l,read:_,reset:s,trash:i,draft:n,order:g,limit:c},error:function(e,t,o){jQuery("#loader_container").hide(),jQuery("#go_posts_wrapper").show(),400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#go_posts_wrapper").html(e),go_reader_activate_buttons(),jQuery("#loader_container").hide(),jQuery("#go_posts_wrapper").show())}})}function go_reader_activate_buttons(){jQuery(".go_blog_favorite").click(function(){go_blog_favorite(this)}),jQuery(".go_blog_trash").one("click",function(e){go_blog_trash(this)}),jQuery(".go_reset_task_clipboard").one("click",function(){go_messages_opener(this.getAttribute("data-uid"),this.getAttribute("data-task"),"reset_stage",this)}),tippy(".tooltip",{delay:0,arrow:!0,arrowType:"round",size:"large",duration:300,animation:"scale",zIndex:999999}),jQuery("#go_mark_all_read").one("click",function(){var e;go_reader_bulk_read(jQuery("#go_mark_all_read").data("post_ids"))}),jQuery(".feedback_accordion").accordion({collapsible:!0,active:!1})}function go_reader_bulk_read(e){var t=GO_EVERY_PAGE_DATA.nonces.go_reader_bulk_read;jQuery.ajax({url:MyAjax.ajaxurl,type:"post",data:{_ajax_nonce:t,action:"go_reader_bulk_read",post_ids:e},error:function(e,t,o){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){go_reader_update()}})}jQuery(document).ready(function(){go_lightbox_blog_img(),console.log("jQuery is loaded"),jQuery(".go_blog_opener").one("click",function(e){go_blog_opener(this)}),jQuery(".go_blog_trash").one("click",function(e){go_blog_trash(this)}),jQuery("#go_hidden_mce").remove(),jQuery("#go_hidden_mce_edit").remove(),jQuery(".feedback_accordion").accordion({collapsible:!0,active:!1}),jQuery(".go_blog_favorite").click(function(){go_blog_favorite(this)})}),jQuery(document).ready(function(){console.log("jQuery is loaded2"),go_load_daterangepicker("reader"),go_make_select2_filter("user_go_sections","section",!1),go_make_select2_filter("user_go_groups","group",!1),go_make_select2_filter("go_badges","badge",!1),jQuery(".go_reader_input").change(function(){console.log("go_activate_apply_filters1"),go_activate_apply_filters()}),jQuery("#go_clipboard_user_go_sections_select, #go_clipboard_user_go_groups_select, #go_clipboard_go_badges_select, #go_task_select, #go_store_item_select").on("select2:select",function(e){jQuery(".go_update_clipboard").addClass("bluepulse"),jQuery(".go_update_clipboard").html('<span class="ui-button-text">Apply Filters<i class="fa fa-filter" aria-hidden="true"></i></span>')}),jQuery(".go_reset_clipboard").on("click",function(){jQuery("#datepicker_clipboard span").html(""),jQuery("#go_clipboard_user_go_sections_select, #go_clipboard_user_go_groups_select, #go_clipboard_go_badges_select, #go_task_select, #go_store_item_select").val(null).trigger("change"),jQuery(".go_update_clipboard").addClass("bluepulse"),jQuery(".go_update_clipboard").html('<span class="ui-button-text">Apply Filters<i class="fa fa-filter" aria-hidden="true"></i></span>')}),go_setup_reset_filter_button(!0),go_make_select2_cpt("#go_task_select","tasks"),jQuery(".go_update_clipboard").prop("onclick",null).off("click"),jQuery(".go_update_clipboard").one("click",function(){go_reader_update()}),go_reader_activate_buttons(),jQuery("#go_datepicker_container").html('<div id="go_datepicker_clipboard"><i class="fa fa-calendar" style="float: left;"></i><span id="go_datepicker"></span> <i id="go_reset_datepicker" class=""select2-selection__clear><b> × </b></i><i class="fa fa-caret-down"></i></div>'),jQuery("#go_reset_datepicker").hide(),jQuery("#go_datepicker_container").one("click",function(){go_load_daterangepicker("clear"),jQuery("#go_reset_datepicker").show(),go_daterange_clear(),go_activate_apply_filters()})});