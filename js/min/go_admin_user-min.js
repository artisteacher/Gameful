function go_acf_repeater_accordion(){jQuery(".go_acf_header").one("click",function(e){console.log("collapse repeater"),jQuery(".go_acf_header").off(),jQuery(e.target).is("input")?e.preventDefault():jQuery(this).closest(".acf-row").find(".-collapse").trigger("click"),go_acf_repeater_accordion()})}function set_height_mce(){jQuery(".go_call_to_action .mce-edit-area iframe").height(100)}function go_hide_child_tax_acfs(){-1==jQuery(".taxonomy-task_chains #parent, .taxonomy-go_badges #parent").val()?(jQuery(".go_child_term").hide(),jQuery("#go_map_shortcode_id").show()):(jQuery(".go_child_term").show(),jQuery("#go_map_shortcode_id").hide());var e=jQuery('[name="tag_ID"]').val();null==e&&jQuery("#go_map_shortcode_id").hide();var t=jQuery("#post_ID").val();jQuery("#go_store_item_id .acf-input").html('[go_store id="'+t+'"]');var a=jQuery("#name").val();jQuery("#go_map_shortcode_id .acf-input").html('Place this code in a content area to link directly to this map.<br><br>[go_single_map_link map_id="'+e+'"]'+a+"[/go_single_map_link]"),null==e&&jQuery("#go_map_shortcode_id").hide()}function go_validate_growth(){var e=jQuery("#go_levels_growth").find("input").val();isNaN(e)?jQuery("#go_levels_growth").find("input").val(Go_orgGrowth):Go_orgGrowth=e}function go_level_names(){var e=document.getElementById("go_levels_repeater").getElementsByTagName("tbody")[0].getElementsByTagName("tr").length,t,a,o;t=0,a="",jQuery(".go_levels_repeater_names").find("input").each(function(){t++,o=a,a=jQuery(this).val(),t>1&&t!=e&&(null!=a&&""!=a||(jQuery(this).val(o),a=o))})}function go_levels_limit_each(){console.log("each");var e=document.getElementById("go_levels_repeater").getElementsByTagName("tbody")[0].getElementsByTagName("tr").length,t=Go_orgGrowth,a=Number(jQuery("#go_first_up").find("input").val()),o=Number(jQuery("#go_levels_max").find("input").val()),r;r=0,jQuery(".go_levels_repeater_numbers").find("input").each(function(){var s;r++,s=jQuery(this).val()||0,s=parseInt(s);var n=jQuery(this).closest(".acf-row").find("span").html();console.log("row num:"+n);var l=jQuery(this).closest(".acf-row").prev().find(".go_levels_repeater_numbers").find("input").val()||0;l=parseInt(l);var i=jQuery(this).closest(".acf-row").next().find(".go_levels_repeater_numbers").find("input").val()||0;if(i=parseInt(i),1===r)jQuery(this).attr({max:0,min:0}),jQuery(this).val(0);else if(r===e-1){if(console.log("last"),jQuery(this).attr({min:l}),jQuery(this).removeAttr("max"),s<=l){let e=(n-1)*(n-2)*t/2+a+l;console.log("newVal: "+e),console.log(e),console.log("prevVal: "+l),console.log("maxVal: "+o),e-l>o?jQuery(this).val(l+o):jQuery(this).val((n-1)*(n-2)*t/2+a+l)}}else if(r===e);else if(console.log("middle"),s<i&&jQuery(this).attr({min:l,max:i}),s>i&&jQuery(this).attr({min:l}),s<=l){let e=(n-1)*(n-2)*t/2+a+l;console.log("newVal: "+e),console.log(e),console.log("prevVal: "+l),console.log("maxVal: "+o),e-l>o?jQuery(this).val(l+o):jQuery(this).val((n-1)*(n-2)*t/2+a+l)}})}function go_levels_recalc_each(){console.log("each");var e=document.getElementById("go_levels_repeater").getElementsByTagName("tbody")[0].getElementsByTagName("tr").length,t=Go_orgGrowth,a=Number(jQuery("#go_first_up").find("input").val()),o=Number(jQuery("#go_levels_max").find("input").val()),r;r=0,jQuery(".go_levels_repeater_numbers").find("input").each(function(){r++;var s=jQuery(this).closest(".acf-row").find("span").html();console.log("row num:"+s);var n=jQuery(this).closest(".acf-row").prev().find(".go_levels_repeater_numbers").find("input").val()||0;if(n=parseInt(n),1===r)jQuery(this).attr({max:0,min:0}),jQuery(this).val(0);else if(r===e-1){console.log("last"),jQuery(this).attr({min:n}),jQuery(this).removeAttr("max");let e=(s-1)*(s-2)*t/2+a+n;console.log("newVal: "+e),console.log(e),console.log("prevVal: "+n),console.log("maxVal: "+o),e-n>o?jQuery(this).val(n+o):jQuery(this).val((s-1)*(s-2)*t/2+a+n)}else if(r===e);else{console.log("middle");let e=(s-1)*(s-2)*t/2+a+n;console.log("newVal: "+e),console.log(e),console.log("prevVal: "+n),console.log("maxVal: "+o),e-n>o?jQuery(this).val(n+o):jQuery(this).val((s-1)*(s-2)*t/2+a+n)}})}function go_blog_new_posts(){console.log("go_blog_new_posts"),go_lightbox_blog_img(),go_disable_loading(),jQuery(".feedback_accordion").accordion({collapsible:!0,active:!1,heightStyle:"content"})}function go_blog_favorite(e){if(blog_post_id=jQuery(e).attr("data-post_id"),jQuery(e).is(":checked"))var t=!0;else t=!1;var a,o={action:"go_blog_favorite_toggle",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_blog_favorite_toggle,blog_post_id:blog_post_id,checked:t};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:o,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){}})}function go_blog_tags_select2(){jQuery(".go_feedback_go_blog_tags_select").select2({ajax:{url:MyAjax.ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:"go_blog_tags",is_hier:!1}},processResults:function(e){return jQuery(".go_feedback_go_blog_tags_select").select2("destroy"),jQuery(".go_feedback_go_blog_tags_select").children().remove(),jQuery(".go_feedback_go_blog_tags_select").select2({data:e,placeholder:"Show All",allowClear:!0}).trigger("change"),jQuery(".go_feedback_go_blog_tags_select").select2("open"),{results:e}},cache:!0},minimumInputLength:0,multiple:!0,placeholder:"Show All",allowClear:!0})}function task_stage_check_input(e,t){console.log("task_stage_check_input"),go_enable_loading(e);var a="";void 0!==jQuery(e).attr("button_type")&&(a=jQuery(e).attr("button_type"),console.log("button_type: "+a));var o="";void 0!==jQuery(e).attr("status")&&(o=jQuery(e).attr("status"));var r="";void 0!==jQuery(e).attr("check_type")&&(r=jQuery(e).attr("check_type"),console.log("Check Type: "+r));var s=!1;jQuery(".go_error_msg").text("");var n='<ul style=" text-align: left;"> ',l=jQuery(e).attr("blog_suffix");console.log("suffix: "+l);const i={};if("blog"==r||"blog_lightbox"==r){const t=jQuery(e).attr("text_toggle");let a="";if("blog_lightbox"==r?(console.log("lb"),a=jQuery(e).parent()):a=jQuery(e).parent().prev(),jQuery(".go_blog_element_error").remove(),jQuery(a).find(".go_blog_element_input").each(function(){const e=jQuery(this).attr("data-type"),t=jQuery(this).attr("data-uniqueID");if("URL"===e){const e=jQuery(this).attr("data-required"),a="<span class='go_blog_element_error' style='color: red;'><br>Enter a valid URL.</span>",o=jQuery(this).val();i[t]=o,console.log("URL"+o),o.length>0?!o.match(/^(http:\/\/|https:\/\/).*\..*$/)||o.lastIndexOf("http://")>0||o.lastIndexOf("https://")>0?(n+="<li>Enter a valid URL.</li>",s=!0,jQuery(this).after(a)):"blog"!=r&&"blog_lightbox"!=r||-1==o.indexOf(e)&&(n+='<li>Enter a valid URL. The URL must contain "'+e+'".</li>',s=!0,jQuery(this).after(a)):(n+="<li>Enter a valid URL.</li>",go_disable_loading(),s=!0,jQuery(this).after(a))}if("video"===e){const e=jQuery(this).val().replace(/\s+/,"");i[t]=e;const a="<span class='go_blog_element_error' style='color: red;'><br>Enter a valid video URL. YouTube and Vimeo are supported.</span>";console.log("videoURL"+e),e.length>0?!e.match(/^(http:\/\/|https:\/\/).*\..*$/)||e.lastIndexOf("http://")>0||e.lastIndexOf("https://")>0?(n+="<li>Enter a valid video URL. YouTube and Vimeo are supported.</li>",s=!0,jQuery(this).after(a)):-1==e.search("youtube")&&-1==e.search("vimeo")&&(n+="<li>Enter a valid video URL. YouTube and Vimeo are supported.</li>",s=!0,jQuery(this).after(a)):(n+="<li>Enter a valid video URL. YouTube and Vimeo are supported.</li>",s=!0,jQuery(this).after(a))}if("file"===e){const e=jQuery(this).attr("value");i[t]=e;const a="<br><span class='go_blog_element_error' style='color: red;'><br>Please attach a file.</span>";""==e&&(n+="<li>Please attach a file.</li>",s=!0,jQuery(this).after(a))}}),"1"==t){var _=jQuery(e).attr("min_words"),c=tinymce_getContentLength_new(r);c<_&&(n+="<li>Your post is not long enough. There must be "+_+" words minimum. You have "+c+" words.</li>",s=!0,jQuery(e).closest(".go_checks_and_buttons").find("#go_save_button").trigger("click"))}}else if("password"===r||"unlock"==r){var u;jQuery("#go_result").attr("value").length>0||(n+="Retrieve the password from "+go_task_data.admin_name+".",s=!0)}else if("quiz"==r){var g=jQuery(e).closest(".go_checks_and_buttons").find(" .go_test_list");if(g.length>=1){for(var d=0,p=0;p<g.length;p++){var h="#go_test_container_"+(parseFloat(o)+1)+" .go_test_"+p+" input:checked",y;console.log("obj_str: "+h),jQuery(h).length>=1&&d++}if(d>=g.length)return void go_quiz_check_answers(o,e);g.length>1?(n+="<li>Please answer all questions!</li>",s=!0):(n+="<li>Please answer the question!</li>",s=!0)}}if(n+="</ul>",!0===s)return 1==t?(jQuery("#go_blog_stage_error_msg").append(n),jQuery("#go_blog_stage_error_msg").show()):(jQuery("#go_blog_error_msg").append(n),jQuery("#go_blog_error_msg").show()),console.log("error validation"),swal.fire({title:"There are errors with your submission.",html:n,type:"error"}),void go_disable_loading();jQuery("#go_blog_stage_error_msg").hide(),jQuery("#go_blog_error_msg").hide(),1==t?task_stage_change(e,i):go_blog_submit(e,!0,i)}function go_enable_loading(e){jQuery(e).hasClass("go_button_round")?jQuery(e).find(".go_round_inner").html("<i class='fas fa-spinner fa-pulse'></i>"):e.innerHTML='<span class="go_loading"><i class="fas fa-spinner fa-pulse"></i></span> '+e.innerHTML}function go_disable_loading(){console.log("go_disable_loading"),jQuery(".go_loading").remove(),jQuery("#go_save_button .go_round_inner").html("<i class='fas fa-save'></i>"),jQuery(".go_blog_trash .go_round_inner").html("<i class='fas fa-trash'></i>"),jQuery(".go_blog_opener_round .go_round_inner").html("<i class='fas fa-pencil-alt'></i>"),jQuery("#go_button").off().one("click",function(e){task_stage_check_input(this,!0)}),jQuery("#go_back_button").off().one("click",function(e){task_stage_change(this)}),jQuery("#go_save_button").off().one("click",function(e){go_blog_submit(this,!1)}),jQuery("#go_bonus_button").off().one("click",function(e){go_update_bonus_loot(this)}),jQuery(".go_str_item").off().one("click",function(e){go_lb_opener(this.id)}),jQuery(".go_blog_opener").off().one("click",function(e){go_blog_opener(this)}),jQuery(".go_blog_trash").off().one("click",function(e){go_blog_trash(this)}),jQuery("#go_blog_submit").off().one("click",function(e){task_stage_check_input(this,!1)}),jQuery(".progress").closest(".go_checks_and_buttons").addClass("active"),jQuery(".go_blog_favorite").off().click(function(){go_blog_favorite(this)})}function tinymce_getContentLength_new(e){if("blog_lightbox"==e)var t=go_tmce_getContent("go_blog_post_lightbox");else var t=go_tmce_getContent("go_blog_post");var a=0;if(t){var o=(t=(t=(t=(t=t.replace(/\.\.\./g," ")).replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ")).replace(/(\w+)(&#?[a-z0-9]+;)+(\w+)/i,"$1$3").replace(/&.+?;/g," ")).replace(/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,"")).match(/[\w\u2019\x27\-\u00C0-\u1FFF]+/g);o&&(a=o.length)}return a}function go_blog_opener(e){console.log("go_blog_opener"),go_enable_loading(e),jQuery("#go_hidden_mce").remove(),jQuery(".go_blog_opener").prop("onclick",null).off("click");var t=jQuery(e).attr("data-check_for_understanding"),a=jQuery(e).attr("blog_post_id"),o,r={action:"go_blog_opener",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_blog_opener,blog_post_id:a,check_for_understanding:t};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:r,cache:!1,error:function(e,t,a){go_disable_loading(),400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(t){if("login"==t&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}]),"locked"==t){var o=jQuery(e).closest(".go_blog_post_wrapper").find(".go_post_title").html();return swal.fire({title:"Locked",html:o+" is locked. It must be unlocked before this blog post can be edited. Click on the blog post title to go to the ",type:"warning"}),void go_disable_loading()}jQuery.featherlight(t,{afterContent:function(){console.log("aftercontent"),jQuery("body").attr("data-go_blog_saved","0"),jQuery("body").attr("data-go_blog_updated","0"),jQuery("#go_result_url_lightbox, #go_result_video_lightbox").change(function(){jQuery("body").attr("data-go_blog_updated","1")}),jQuery(".go_frontend-button").on("click",function(){jQuery("body").attr("data-go_blog_updated","1")});var e="go_blog_post_lightbox";tinymce.execCommand("mceRemoveEditor",!0,e),quicktags({id:e}),tinymce.init({selector:e,setup:function(e){e.on("keyup",function(e){jQuery("body").attr("data-go_blog_updated","1"),console.log("updated")})},branding:!1,theme:"modern",skin:"lightgray",language:"en",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table,dl.wp-caption",classes:"alignleft"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img,table,dl.wp-caption",classes:"aligncenter"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table,dl.wp-caption",classes:"alignright"}],strikethrough:{inline:"del"}},relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:!1,paste_webkit_styles:"font-weight font-style color",preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",wpeditimage_disable_captions:!1,wpeditimage_html5_captions:!0,plugins:"charmap,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpeditimage,wpgallery,wplink,wpdialogs,wpview,wordcount",selector:"#"+e,resize:"vertical",menubar:!1,wpautop:!0,wordpress_adv_hidden:!1,indent:!1,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,wp_more,spellchecker,fullscreen,wp_adv",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",toolbar3:"",toolbar4:"",tabfocus_elements:":prev,:next",body_class:"id post-type-post post-status-publish post-format-standard"}),tinyMCE.execCommand("mceAddEditor",!1,e)},beforeClose:function(){var e,t;if(console.log("beforeClose"),"1"==jQuery("body").attr("data-go_blog_updated"))return swal.fire({title:"You have unsaved changes.",text:"Would you like to save? If you don't save you will not be able to recover these changes.",type:"warning",showCancelButton:!0,confirmButtonText:"Save and Close",cancelButtonText:"Close without Saving",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(e=>{e.value?jQuery("#go_save_button_lightbox").length?jQuery("#go_save_button_lightbox").trigger("click"):jQuery("#go_blog_submit").trigger("click"):(Swal.fire("Your changes were not saved."),jQuery("body").attr("data-go_blog_updated","0"),jQuery.featherlight.close())}),!1;(jQuery(".go_blog_post_wrapper_"+a).length=0)&&location.reload()}}),jQuery(".featherlight").css("background","rgba(0,0,0,.8)"),jQuery(".featherlight .featherlight-content").css("width","80%"),jQuery(".go_blog_opener").one("click",function(e){go_blog_opener(this)}),go_disable_loading()}})}function go_get_blog_required_elements(){const e={};return jQuery(".go_blog_element_input").each(function(){const t=jQuery(this).attr("data-type"),a=jQuery(this).attr("data-uniqueID");if("URL"===t){const t=jQuery(this).val();e[a]=t}if("video"===t){const t=jQuery(this).val();e[a]=t}if("file"===t){const t=jQuery(this).attr("value");e[a]=t}}),e}function go_blog_submit(e,t,a=null){console.log("go_blog_submit");var o=GO_EVERY_PAGE_DATA.nonces.go_blog_submit,r=jQuery(e).attr("blog_suffix"),s;if("fixed"==jQuery("#go_blog_title"+r).data("blog_post_title"))var s=jQuery("#go_blog_title"+r).html();else""==(s=jQuery("#go_blog_title"+r).val())&&(s="My Blog Post");var n=jQuery(e).attr("button_type"),l=go_get_tinymce_content_blog(r);console.log("go_blog_submit");var i=jQuery("#go_blog_title"+r).attr("data-blog_post_id");console.log("blog_post_id: "+i);var _=".go_blog_post_wrapper_"+i,c=jQuery(e).attr("data-bonus_status"),u=jQuery(e).attr("status"),g=jQuery(e).attr("task_id"),d=jQuery(e).attr("data-check_for_understanding"),p=jQuery("#go_result_url"+r).val();if(jQuery("#go_private_post"+r).is(":checked"))var h=1;console.log("blog_private: "+h);var y={action:"go_blog_submit",_ajax_nonce:o,result:l,result_title:s,blog_post_id:i,required_elements:a,blog_private:h,go_blog_task_stage:u,go_blog_bonus_stage:c,post_id:g,button:n,check_for_understanding:d};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:y,cache:!1,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){if(console.log("success1"),"refresh"!==e){var a={};try{var a=JSON.parse(e)}catch(e){a={json_status:"101",message:"",blog_post_id:"",wrapper:""}}if(jQuery("body").attr("data-go_blog_updated","0"),jQuery("body").append(a.message),go_disable_loading(),jQuery("#go_save_button"+r).off().one("click",function(e){go_blog_submit(this,!1)}),jQuery("#go_save_button"+r).attr("blog_post_id",a.blog_post_id),jQuery("#go_blog_title"+r).attr("data-blog_post_id",a.blog_post_id),1==t){var o=jQuery(_).length,s;jQuery.featherlight.current().close(),jQuery(_).length>0?(jQuery(_).replaceWith(a.wrapper),jQuery(".feedback_accordion").accordion({collapsible:!0,active:!1,heightStyle:"content"}),go_disable_loading(),go_Vids_Fit_and_Box("body")):location.reload()}}else go_refresh_page_on_error()}})}function go_blog_trash(e){console.log("go_blog_trash"),go_enable_loading(e),Swal.fire({title:"Are you sure?",text:"Do you really want to delete this post?",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(t=>{if(t.value){var a=GO_EVERY_PAGE_DATA.nonces.go_blog_trash,o=jQuery(e).attr("blog_post_id"),r={action:"go_blog_trash",_ajax_nonce:a,blog_post_id:o};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:r,cache:!1,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){var t;jQuery("body").append(e),jQuery(".go_blog_post_wrapper_"+o).hide(),jQuery(".go_blog_trash").off().one("click",function(e){go_blog_trash(this)}),swal.fire({text:"Poof! Your post has been deleted!",type:"success"})}}),go_disable_loading(e)}else swal.fire({text:"Your post is safe!"}),go_disable_loading(e)})}function go_get_tinymce_content_blog(e){return jQuery("#wp-go_blog_post_edit-wrap .wp-editor-area").is(":visible")?jQuery("#wp-go_blog_post_edit-wrap .wp-editor-area").val():go_tmce_getContent("_lightbox"==e?"go_blog_post_lightbox":"go_blog_post")}function go_blog_user_task(e,t){console.log("blogs!");var a=GO_EVERY_PAGE_DATA.nonces.go_blog_user_task;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:a,action:"go_blog_user_task",uid:e,task_id:t},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){jQuery.featherlight(e,{variant:"blogs",afterOpen:function(e){go_fit_and_max_only("#go_blog_container")}})}})}function go_tmce_getContent(e,t){return void 0===e&&(e=wpActiveEditor),void 0===t&&(t=e),jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).getContent():jQuery("#"+t).val()}function go_tmce_setContent(e,t,a){return void 0===t&&(t=wpActiveEditor),void 0===a&&(a=t),jQuery("#wp-"+t+"-wrap").hasClass("tmce-active")&&tinyMCE.get(t)?tinyMCE.get(t).setContent(e):jQuery("#"+a).val(e)}function go_tmce_focus(e,t){return void 0===e&&(e=wpActiveEditor),void 0===t&&(t=e),jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).focus():jQuery("#"+t).focus()}function go_show_private(e){const t=jQuery(e).attr("checked"),a=GO_EVERY_PAGE_DATA.nonces.go_show_private,o=jQuery(e).data("userid"),r={action:"go_show_private",_ajax_nonce:a,checked:t,userid:o};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:r,cache:!1,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){jQuery("#go_wrapper").html(e),jQuery("#go_show_private").one("click",function(e){go_show_private(this)})}})}function go_cache_menu(e,t){sessionStorage.setItem("go_menu_"+t,JSON.stringify(e))}function go_get_menu_data(e){jQuery.ajax({type:"get",url:MyAjax.ajaxurl,data:{action:"go_clipboard_save_filters",section:section,badge:badge,group:group,unmatched:unmatched},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){return e}})}function go_toggle(e){checkboxes=jQuery(".go_checkbox");for(var t=0,a=checkboxes.length;t<a;t++)checkboxes[t].checked=e.checked}function go_clipboard_callback(){go_stats_links(),jQuery(".go_messages_icon_multiple_clipboard").parent().prop("onclick",null).off("click"),jQuery(".go_messages_icon_multiple_clipboard").parent().one("click",function(e){go_messages_opener(null,null,"multiple_messages",this)}),tippy(".tooltip",{delay:0,arrow:!0,arrowType:"round",size:"large",duration:300,animation:"scale",zIndex:999999});var e=jQuery("#records_tabs").find("[aria-selected='true']").attr("aria-controls");console.log(e),"clipboard_wrap"==e?(jQuery("#go_clipboard_stats_datatable").DataTable().columns.adjust().responsive.recalc(),jQuery("#go_action_filters").hide(),jQuery(".go_update_clipboard").prop("onclick",null).off("click"),jQuery(".go_update_clipboard").one("click",function(){Clipboard.draw(),go_clipboard_update()}),jQuery("div.dataTables_filter input").unbind(),document.querySelector("#go_clipboard_stats_datatable_filter input").onsearch=function(e){Clipboard.search(this.value).draw()}):"clipboard_store_wrap"==e?(jQuery("#go_clipboard_store_datatable").DataTable().columns.adjust().responsive.recalc(),jQuery("#go_action_filters").show(),jQuery("#go_store_filters").show(),jQuery("#go_task_filters").hide(),jQuery(".go_update_clipboard").prop("onclick",null).off("click"),jQuery(".go_update_clipboard").one("click",function(){Store.draw(),go_clipboard_update()}),jQuery("div.dataTables_filter input").unbind(),document.querySelector("#go_clipboard_store_datatable_filter input").onsearch=function(e){Store.search(this.value).draw()}):"clipboard_messages_wrap"==e?(jQuery("#go_clipboard_messages_datatable").DataTable().columns.adjust().responsive.recalc(),jQuery("#go_action_filters").show(),jQuery("#go_store_filters").hide(),jQuery("#go_task_filters").hide(),jQuery(".go_update_clipboard").prop("onclick",null).off("click"),jQuery(".go_update_clipboard").one("click",function(){Messages.draw(),go_clipboard_update()}),jQuery("div.dataTables_filter input").unbind(),document.querySelector("#go_clipboard_messages_datatable_filter input").onsearch=function(e){Messages.search(this.value).draw()}):"clipboard_activity_wrap"==e&&(jQuery("#go_clipboard_activity_datatable").DataTable().columns.adjust().responsive.recalc(),jQuery("#go_action_filters").show(),jQuery("#go_store_filters").hide(),jQuery("#go_task_filters").show(),jQuery(".go_update_clipboard").prop("onclick",null).off("click"),jQuery(".go_update_clipboard").one("click",function(){Activity.draw(),go_clipboard_update()}),jQuery("div.dataTables_filter input").unbind(),document.querySelector("#go_clipboard_activity_datatable_filter input").onsearch=function(e){Activity.search(this.value).draw()},go_enable_reset_buttons())}function go_clipboard_update(){console.log("go_clipboard_update"),go_save_clipboard_filters(),jQuery(".go_update_clipboard").removeClass("bluepulse"),jQuery(".go_update_clipboard").html('<span class="ui-button-text">Refresh Data <span class="dashicons dashicons-update" style="vertical-align: center;"></span></span>');var e=jQuery("#records_tabs").find("[aria-selected='true']").attr("aria-controls");"clipboard_wrap"==e?(jQuery("#go_clipboard_store_datatable").remove(),jQuery("#go_clipboard_messages_datatable").remove()):"clipboard_store_wrap"==e?(jQuery("#go_clipboard_stats_datatable").remove(),jQuery("#go_clipboard_messages_datatable").remove()):"clipboard_messages_wrap"==e&&(jQuery("#go_clipboard_stats_datatable").remove(),jQuery("#go_clipboard_store_datatable").remove())}function go_clipboard_stats_datatable(e){if(0==jQuery("#go_clipboard_stats_datatable").length||1==e){jQuery("#clipboard_stats_datatable_container").html("<h2>Loading . . .</h2>");var t=GO_CLIPBOARD_DATA.nonces.go_clipboard_stats;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_clipboard_stats",refresh:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#clipboard_stats_datatable_container").html(e),Clipboard=jQuery("#go_clipboard_stats_datatable").DataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_clipboard_stats_dataloader_ajax",data:function(e){e.section=jQuery("#go_clipboard_user_go_sections_select").val(),e.group=jQuery("#go_clipboard_user_go_groups_select").val(),e.badge=jQuery("#go_clipboard_go_badges_select").val()}},bPaginate:!0,order:[[6,"desc"]],responsive:!0,autoWidth:!1,stateSave:!0,stateLoadParams:function(e,t){t.search&&delete t.search,t.start&&delete t.start},stateDuration:31557600,searchDelay:1e3,dom:"lBfrtip",drawCallback:function(e){go_clipboard_callback()},columnDefs:[{type:"natural",targets:"_all"},{targets:[0],className:"noVis",width:"1px",sortable:!1},{targets:[1],className:"noVis",width:"20px",sortable:!1},{targets:[7],sortable:!1},{targets:[8]},{targets:[13]}],buttons:[{text:'<span class="go_messages_icon_multiple_clipboard">Message <i class="fas fa-bullhorn" aria-hidden="true"></i><span>',action:function(e,t,a,o){}},{extend:"collection",text:"Export ...",buttons:[{extend:"pdf",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"},orientation:"landscape"},{extend:"excel",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}},{extend:"csv",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}}]},{extend:"colvis",columns:":not(.noVis)",postfixButtons:["colvisRestore"],text:"Column Visibility"}]}))}})}else go_clipboard_callback()}function go_clipboard_store_datatable(e){if(0==jQuery("#go_clipboard_store_datatable").length||1==e){jQuery("#clipboard_store_datatable_container").html("<h2>Loading . . .</h2>");var t=GO_CLIPBOARD_DATA.nonces.go_clipboard_store;jQuery.ajax({url:MyAjax.ajaxurl,type:"post",data:{_ajax_nonce:t,action:"go_clipboard_store"},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#clipboard_store_datatable_container").html(e),Store=jQuery("#go_clipboard_store_datatable").DataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_clipboard_store_dataloader_ajax",data:function(e){e.date=jQuery("#go_datepicker").html(),e.section=jQuery("#go_clipboard_user_go_sections_select").val(),e.group=jQuery("#go_clipboard_user_go_groups_select").val(),e.badge=jQuery("#go_clipboard_go_badges_select").val(),e.unmatched=document.getElementById("go_unmatched_toggle").checked,e.store_item=jQuery("#go_store_item_select").val()}},bPaginate:!0,order:[[8,"desc"]],responsive:!0,autoWidth:!1,stateSave:!0,stateLoadParams:function(e,t){t.search&&delete t.search,t.start&&delete t.start},stateDuration:31557600,searchDelay:1e3,dom:"lBfrtip",drawCallback:function(e){go_clipboard_callback()},columnDefs:[{type:"natural",targets:"_all"},{targets:[0],className:"noVis",width:"5px",sortable:!1},{targets:[1],className:"noVis",width:"20px",sortable:!1},{targets:[7],sortable:!1},{targets:[9],sortable:!0},{targets:[13],sortable:!1}],buttons:[{text:'<span class="go_messages_icon_multiple_clipboard">Message <i class="fas fa-bullhorn" aria-hidden="true"></i><span>',action:function(e,t,a,o){}},{extend:"collection",text:"Export ...",buttons:[{extend:"pdf",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"},orientation:"landscape"},{extend:"excel",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}},{extend:"csv",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}}]},{extend:"colvis",columns:":not(.noVis)",postfixButtons:["colvisRestore"],text:"Column Visibility"}]}))}})}else go_clipboard_callback()}function go_clipboard_messages_datatable(e){if(0==jQuery("#go_clipboard_messages_datatable").length||1==e){jQuery("#clipboard_messages_datatable_container").html("<h2>Loading . . .</h2>");var t=GO_CLIPBOARD_DATA.nonces.go_clipboard_messages;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_clipboard_messages"},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#clipboard_messages_datatable_container").html(e),Messages=jQuery("#go_clipboard_messages_datatable").DataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_clipboard_messages_dataloader_ajax",data:function(e){e.date=jQuery("#go_datepicker").html(),e.section=jQuery("#go_clipboard_user_go_sections_select").val(),e.group=jQuery("#go_clipboard_user_go_groups_select").val(),e.badge=jQuery("#go_clipboard_go_badges_select").val(),e.unmatched=document.getElementById("go_unmatched_toggle").checked}},bPaginate:!0,order:[[8,"desc"]],responsive:!0,autoWidth:!1,searchDelay:1e3,stateSave:!0,stateLoadParams:function(e,t){t.search&&delete t.search,t.start&&delete t.start},stateDuration:31557600,dom:"lBfrtip",drawCallback:function(e){go_clipboard_callback()},columnDefs:[{type:"natural",targets:"_all"},{targets:[0],className:"noVis",width:"5px",sortable:!1},{targets:[1],className:"noVis",width:"20px",sortable:!1},{targets:[7],sortable:!1},{targets:[9],sortable:!1},{targets:[13],sortable:!1}],buttons:[{text:'<span class="go_messages_icon_multiple_clipboard">Message <i class="fas fa-bullhorn" aria-hidden="true"></i><span>',action:function(e,t,a,o){}},{extend:"collection",text:"Export ...",buttons:[{extend:"pdf",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"},orientation:"landscape"},{extend:"excel",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}},{extend:"csv",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}}]},{extend:"colvis",columns:":not(.noVis)",postfixButtons:["colvisRestore"],text:"Column Visibility"}]}),jQuery("div.dataTables_filter input").unbind(),jQuery("div.dataTables_filter input").keyup(function(e){13==e.keyCode&&Messages.search(this.value).draw()}))}})}else go_clipboard_callback()}function go_clipboard_activity_datatable(e){if(0==jQuery("#go_clipboard_activity_datatable").length||1==e){jQuery("#clipboard_activity_datatable_container").html("<h2>Loading . . .</h2>");var t=GO_CLIPBOARD_DATA.nonces.go_clipboard_activity;console.log("date: "+jQuery("#go_datepicker").html()),console.log("section: "+jQuery("#go_clipboard_user_go_sections_select").val()),console.log("group: "+jQuery("#go_clipboard_user_go_groups_select").val()),console.log("badges: "+jQuery("#go_clipboard_go_badges_select").val()),console.log("unmatched: "+document.getElementById("go_unmatched_toggle").checked),console.log("tasks: "+jQuery("#go_task_select").val()),jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_clipboard_activity",date:jQuery("#go_datepicker").html()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#clipboard_activity_datatable_container").html(e),Activity=jQuery("#go_clipboard_activity_datatable").DataTable({processing:!0,serverSide:!0,
ajax:{url:MyAjax.ajaxurl+"?action=go_clipboard_activity_dataloader_ajax",data:function(e){e.date=jQuery("#go_datepicker").html(),e.section=jQuery("#go_clipboard_user_go_sections_select").val(),e.group=jQuery("#go_clipboard_user_go_groups_select").val(),e.badge=jQuery("#go_clipboard_go_badges_select").val(),e.unmatched=document.getElementById("go_unmatched_toggle").checked,e.tasks=jQuery("#go_task_select").val();for(var t=0,a=e.columns.length;t<a;t++)e.columns[t].search.value||delete e.columns[t].search,!0===e.columns[t].searchable&&delete e.columns[t].searchable,!0===e.columns[t].orderable&&delete e.columns[t].orderable,e.columns[t].data===e.columns[t].name&&delete e.columns[t].name;delete e.search.regex}},deferRender:!0,bPaginate:!0,order:[11,"asc"],responsive:!0,autoWidth:!1,stateLoadParams:function(e,t){t.search&&delete t.search,t.start&&delete t.start},stateDuration:31557600,dom:"lBfrtip",drawCallback:function(e){go_clipboard_callback()},columnDefs:[{type:"natural",targets:"_all"},{targets:[0],className:"noVis",width:"5px",sortable:!1},{targets:[1],className:"noVis",width:"20px",sortable:!1},{targets:[7,9,14],sortable:!1}],buttons:[{text:'<span class="go_messages_icon_multiple_clipboard">Message <i class="fas fa-bullhorn" aria-hidden="true"></i><span>',action:function(e,t,a,o){}},{text:'<span class="go_tasks_reset_multiple_clipboard">Reset <i class="fas fa-times-circle" aria-hidden="true"></i><span>',action:function(e,t,a,o){}},{extend:"collection",text:"Export ...",buttons:[{extend:"pdf",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"},orientation:"landscape"},{extend:"excel",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}},{extend:"csv",title:"Game On Data Export",exportOptions:{columns:"thead th:not(.noExport)"}}]},{extend:"colvis",columns:":not(.noVis)",postfixButtons:["colvisRestore"],text:"Column Visibility"}]}),jQuery("#go_clipboard_activity_datatable .show_more").click(function(){var e;0==jQuery(this).hasClass("shown")?(jQuery(this).addClass("shown"),jQuery(this).siblings(".hidden_action").show(),jQuery(this).find(".hide_more_actions").show(),jQuery(this).find(".show_more_actions").hide()):(jQuery(this).removeClass("shown"),jQuery(this).siblings(".hidden_action").hide(),jQuery(this).find(".hide_more_actions").hide(),jQuery(this).find(".show_more_actions").show())}))}})}else go_clipboard_callback()}function go_update_go_ajax_v5_check(){var e=GO_EVERY_PAGE_DATA.nonces.go_update_go_ajax_v5_check;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_update_go_ajax_v5_check",loot:!0},success:function(e){"login"==e&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}]),"refresh"===e&&Swal.fire({title:"Error",text:"Refresh the page and then try again? You will lose unsaved changes. You can cancel and copy any unsaved changes to a safe location before refresh.",type:"warning",confirmButtonText:"Refresh Now",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(e=>{e.value&&location.reload()}),"run_again"==e?(swal.fire({title:"Warning",text:"This upgrade has been run before.  Running again will overwrite work you have done in version 5 with old v4 data. Are you sure you wish to proceed."}),swal.fire({title:"Warning",html:"This upgrade has been run before.  Running again will overwrite work you have done in version 5 with old v4 data. Are you sure you wish to proceed.",type:"warning",showCancelButton:!0,showConfirmButton:!0,reverseButtons:!0}).then(e=>{e.value&&swal.fire({text:"This may take a minute.  Please keep this window open."}).then(e=>{e.value&&go_update_go_ajax_v5()})})):swal.fire({title:"This may take a minute.  Please keep this window open."}).then(e=>{e.value&&go_update_go_ajax_v5()})}})}function go_update_go_ajax_v5(){var e=GO_EVERY_PAGE_DATA.nonces.go_update_go_ajax_v5;swal.fire({title:"Updating",html:'<div><i class="fas fa-spinner fa-3x fa-pulse"></i></div>',showCancelButton:!1,showConfirmButton:!1,allowOutsideClick:!1}),jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_update_go_ajax_v5",loot:!0},success:function(e){"login"==e?jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}]):"refresh"===e?Swal.fire({title:"Error",text:"Refresh the page and then try again? You will lose unsaved changes. You can cancel and copy any unsaved changes to a safe location before refresh.",type:"warning",confirmButtonText:"Refresh Now",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(e=>{e.value&&location.reload()}):(swal.fire({title:"Success"}),jQuery("#go_tool_update_v5").one("click",function(){go_update_go_ajax_v5_check()}))}})}function go_update_go_ajax(){var e=GO_EVERY_PAGE_DATA.nonces.go_upgade4;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_upgade4",loot:!0},success:function(e){swal.fire({title:"Done.  Hope that helps :)"})}})}function go_update_go_ajax_no_task_loot(){var e=GO_EVERY_PAGE_DATA.nonces.go_upgade4;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_upgade4",loot:!1},success:function(e){swal.fire({title:"Done.  Hope that helps :)"})}})}function go_reset_all_users_dialog(){swal.fire({title:"Reset User Game Data",text:"Are you sure? This can't be undone!",type:"warning",showCancelButton:!0,confirmButtonText:"Reset All User Game Data",cancelButtonText:"Cancel",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(e=>{e.value?go_reset_all_users():(swal.fire({text:"Your user data is safe.",title:"No action taken."}),jQuery("#go_reset_all_users").one("click",function(){go_reset_all_users_dialog()}))})}function go_reset_all_users(){var e=GO_EVERY_PAGE_DATA.nonces.go_reset_all_users;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_reset_all_users"},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){(e="reset")?(swal.fire("Success","All user game data was reset.","success"),jQuery("#go_reset_all_users").one("click",function(){go_reset_all_users_dialog()})):swal.fire("Error","There was an error. Please refresh the page and try again. No data was changed.","error")}})}function go_addslashes(e){return e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\'/g,"\\'")).replace(/\"/g,'\\"')).replace(/\0/g,"\\0")}function go_stripslashes(e){return e=(e=(e=(e=e.replace(/\\'/g,"'")).replace(/\\"/g,'"')).replace(/\\0/g,"\0")).replace(/\\\\/g,"\\")}function go_user_profile_link(e){jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{action:"go_user_profile_link",uid:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){window.open(e)}})}function go_noty_close_oldest(){Noty.setMaxVisible(6);var e=jQuery("#noty_layout__topRight > div").length;0==e&&jQuery("#noty_layout__topRight").remove(),e>=5&&jQuery("#noty_layout__topRight > div").first().trigger("click")}function go_lightbox_blog_img(){jQuery("[class*= wp-image]").each(function(){var e;if(1==jQuery(this).hasClass("size-full"))var t=jQuery(this).attr("src");else var a,o=/.*wp-image/,r=jQuery(this).attr("class").replace(o,"wp-image"),s=jQuery(this).attr("src"),n=/-([^-]+).$/,l=/\.[0-9a-z]+$/i,i=s.match(l),t=s.replace(n,i);jQuery(this).featherlight(t)})}function go_admin_bar_stats_page_button(e){var t=GO_EVERY_PAGE_DATA.nonces.go_admin_bar_stats;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_admin_bar_stats",uid:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){"refresh"!==e?-1!==e&&(jQuery.featherlight(e,{variant:"stats"}),go_stats_task_list(),jQuery("#stats_tabs").tabs(),jQuery(".stats_tabs").click(function(){switch(tab=jQuery(this).attr("tab"),tab){case"about":go_stats_about();break;case"tasks":go_stats_task_list();break;case"store":go_stats_item_list();break;case"history":go_stats_activity_list();break;case"messages":go_stats_messages();break;case"badges":go_stats_badges_list();break;case"groups":go_stats_groups_list();break;case"leaderboard":go_stats_leaderboard();break}})):go_refresh_page_on_error()}})}function go_stats_links(){jQuery(".go_user_link_stats").prop("onclick",null).off("click"),jQuery(".go_user_link_stats").one("click",function(){var e;go_admin_bar_stats_page_button(jQuery(this).attr("name"))}),jQuery(".go_stats_messages_icon").prop("onclick",null).off("click"),jQuery(".go_stats_messages_icon").one("click",function(e){var t;go_messages_opener(this.getAttribute("data-uid"),null,"single_message",this)})}function go_leaderboard_menus_select2(){0==jQuery("#select2-go_user_go_sections_select-container").length&&jQuery("#go_user_go_sections_select").select2({ajax:{url:MyAjax.ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:"user_go_sections",is_hier:!1}},processResults:function(e){return jQuery("#go_user_go_sections_select").select2("destroy"),jQuery("#go_user_go_sections_select").children().remove(),jQuery("#go_user_go_sections_select").select2({data:e,placeholder:"Show All",allowClear:!0}).val(group).trigger("change"),jQuery("#go_user_go_sections_select").select2("open"),{results:e}},cache:!0},minimumInputLength:0,multiple:!1,placeholder:"Show All",allowClear:!0}),0==jQuery("#select2-go_user_go_groups_select-container").length&&jQuery("#go_user_go_groups_select").select2({ajax:{url:MyAjax.ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:"user_go_groups",is_hier:!1}},processResults:function(e){return jQuery("#go_user_go_groups_select").select2("destroy"),jQuery("#go_user_go_groups_select").children().remove(),jQuery("#go_user_go_groups_select").select2({data:e,placeholder:"Show All",allowClear:!0}).val(group).trigger("change"),jQuery("#go_user_go_groups_select").select2("open"),{results:e}},minimumInputLength:0,multiple:!1,placeholder:"Show All",allowClear:!0},minimumInputLength:0,multiple:!1,placeholder:"Show All",allowClear:!0})}function go_stats_about(e){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_about;0==jQuery("#go_stats_about").length&&jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_about",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&jQuery("#stats_about").html(e)}})}function go_stats_task_list(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_task_list;0==jQuery("#go_tasks_datatable").length?jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_task_list",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#stats_tasks").html(e),jQuery("#go_tasks_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_tasks_dataloader_ajax",data:function(e){e.user_id=jQuery("#go_stats_hidden_input").val()}},responsive:!0,autoWidth:!1,columnDefs:[{targets:"_all",orderable:!1}],searching:!0,drawCallback:function(e){go_enable_reset_buttons()},order:[[3,"desc"]]})),go_reset_opener(null)}}):(jQuery("#go_task_list").show(),jQuery("#go_task_list_single").hide())}function go_enable_reset_buttons(){jQuery(".go_reset_task_clipboard").prop("onclick",null).off("click"),jQuery(".go_reset_task_clipboard").one("click",function(){go_messages_opener(this.getAttribute("data-uid"),this.getAttribute("data-task"),"single_reset",this)}),jQuery(".go_tasks_reset_multiple_clipboard").parent().prop("onclick",null).off("click"),jQuery(".go_tasks_reset_multiple_clipboard").parent().one("click",function(){go_messages_opener(null,null,"multiple_reset",this)})}function go_close_single_history(){jQuery("#go_task_list").show(),jQuery("#go_task_list_single").hide()}function go_stats_single_task_activity_list(e){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_single_task_activity_list;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_single_task_activity_list",user_id:jQuery("#go_stats_hidden_input").val(),postID:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#go_task_list_single").remove(),jQuery("#go_task_list").hide(),jQuery("#stats_tasks").append(e),jQuery("#go_single_task_datatable").dataTable({bPaginate:!0,order:[[0,"desc"]],responsive:!0,autoWidth:!1}))}})}function go_stats_item_list(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_item_list;0==jQuery("#go_store_datatable").length&&jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_item_list",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#stats_store").html(e),jQuery("#go_store_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_stats_store_item_dataloader",data:function(e){e.user_id=jQuery("#go_stats_hidden_input").val()}},responsive:!0,autoWidth:!1,columnDefs:[{targets:"_all",orderable:!1}],searching:!0,order:[[0,"desc"]]}))}})}function go_stats_activity_list(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_activity_list;0==jQuery("#go_activity_datatable").length&&jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_activity_list",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#stats_history").html(e),jQuery("#go_activity_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_activity_dataloader_ajax",data:function(e){e.user_id=jQuery("#go_stats_hidden_input").val()}},responsive:!0,autoWidth:!1,columnDefs:[{targets:"_all",orderable:!1}],searching:!0,order:[[0,"desc"]],drawCallback:function(e){tippy(".tooltip",{delay:0,arrow:!0,arrowType:"round",size:"large",duration:300,animation:"scale",zIndex:999999})}}))}})}function go_stats_messages(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_messages;0==jQuery("#go_messages_datatable").length&&jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_messages",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&(jQuery("#stats_messages").html(e),jQuery("#go_messages_datatable").dataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_messages_dataloader_ajax",data:function(e){e.user_id=jQuery("#go_stats_hidden_input").val()}},responsive:!0,autoWidth:!1,columnDefs:[{targets:"_all",orderable:!1}],searching:!0,order:[[0,"desc"]]}))}})}function go_stats_badges_list(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_badges_list;0==jQuery("#go_badges_list").length&&jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_badges_list",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&jQuery("#stats_badges").html(e)}})}function go_stats_groups_list(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_groups_list;0==jQuery("#go_groups_list").length&&jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_groups_list",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&jQuery("#stats_groups").html(e)}})}function go_stats_leaderboard(){var e=GO_EVERY_PAGE_DATA.nonces.go_stats_leaderboard,t=GO_EVERY_PAGE_DATA.go_is_admin,a=3;1==t&&(a=4),0==jQuery("#go_leaderboard_wrapper").length&&(jQuery(".go_leaderboard_wrapper").show(),jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:e,action:"go_stats_leaderboard",user_id:jQuery("#go_stats_hidden_input").val()},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){jQuery("#stats_leaderboard").html(e);var t=jQuery("#go_leaders_datatable").DataTable({processing:!0,serverSide:!0,ajax:{url:MyAjax.ajaxurl+"?action=go_stats_leaderboard_dataloader_ajax",data:function(e){e.section=jQuery("#go_user_go_sections_select").val(),e.group=jQuery("#go_user_go_groups_select").val()}},responsive:!1,autoWidth:!1,paging:!0,order:[[a,"desc"]],drawCallback:function(e){go_stats_links(),go_leaderboard_menus_select2()},searching:!1,columnDefs:[{type:"natural",targets:"_all"},{targets:[0],sortable:!1},{targets:[1],sortable:!1},{targets:[2],sortable:!1},{targets:[3],sortable:!1},{targets:[4],sortable:!0,orderSequence:["desc"]},{targets:[5],sortable:!0,orderSequence:["desc"]},{targets:[6],sortable:!0,orderSequence:["desc"]}]});jQuery("#go_user_go_sections_select, #go_user_go_groups_select").change(function(){var e=jQuery("#go_user_go_sections_select").val();jQuery("#go_leaders_datatable").length&&t.draw()})}}))}function go_stats_lite(e){var t=GO_EVERY_PAGE_DATA.nonces.go_stats_lite;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_stats_lite",uid:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){jQuery.featherlight(e,{variant:"stats_lite"}),-1!==e&&jQuery("#go_tasks_datatable_lite").dataTable({destroy:!0,responsive:!0,autoWidth:!1,drawCallback:function(e){go_stats_links()},searching:!1})}})}function go_activate_apply_filters(){console.log("go_activate_apply_filters"),jQuery(".go_update_clipboard").addClass("bluepulse"),jQuery(".go_update_clipboard").html('<span class="ui-button-text">Apply Filters<i class="fas fa-filter" aria-hidden="true"></i></span>')}function go_date_loader(e,t,a){1==a?(e=moment(),t=moment()):go_activate_apply_filters(),jQuery("#go_datepicker").html(e.format("MMMM D, YYYY")+" - "+t.format("MMMM D, YYYY"))}function go_load_daterangepicker(e){console.log("go_load_daterangepicker"),jQuery("#go_datepicker_clipboard").daterangepicker({ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},startDate:moment(),endDate:moment(),opens:"center",locale:{cancelLabel:"Clear"}},function(e,t,a){console.log("New date range selected: "+e.format("YYYY-MM-DD")+" to "+t.format("YYYY-MM-DD")+" (predefined range: "+a+")"),go_date_loader(e,t,!1)}),jQuery("#go_datepicker_clipboard").on("cancel.daterangepicker",function(e,t){jQuery("#go_datepicker_clipboard span").html("")}),go_date_loader(null,null,!0)}function go_load_daterangepicker_empty(){jQuery("#go_datepicker_clipboard").daterangepicker({autoUpdateInput:!1,locale:{cancelLabel:"Clear"}}),jQuery("#go_datepicker_clipboard").on("apply.daterangepicker",function(e,t){jQuery("#go_datepicker_clipboard span").html(t.startDate.format("MM/DD/YYYY")+" - "+t.endDate.format("MM/DD/YYYY"))}),jQuery("#go_datepicker_clipboard").on("cancel.daterangepicker",function(e,t){jQuery("#go_datepicker_clipboard span").html("")})}function go_make_select2_filter(e,t,a){if(a)var o=localStorage.getItem("go_clipboard_"+t),r=localStorage.getItem("go_clipboard_"+t+"_name");if(jQuery("#go_clipboard_"+e+"_select").select2({ajax:{url:ajaxurl,dataType:"json",delay:400,data:function(t){return{q:t.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:e,is_hier:!1}},processResults:function(t){return jQuery("#go_clipboard_"+e+"_select").select2("destroy"),jQuery("#go_clipboard_"+e+"_select").children().remove(),jQuery("#go_clipboard_"+e+"_select").select2({data:t,placeholder:"Show All",allowClear:!0}).val(o).trigger("change"),jQuery("#go_clipboard_"+e+"_select").select2("open"),{results:t}},cache:!0},minimumInputLength:0,multiple:!1,placeholder:"Show All",allowClear:!0}),null!=o&&"null"!=o){var s=jQuery("#go_clipboard_"+e+"_select"),n=new Option(r,o,!0,!0);s.append(n).trigger("change")}}function go_make_select2_cpt(e,t){jQuery(e).select2({ajax:{url:ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_cpt_select2_ajax",cpt:t}},processResults:function(e){var t=[];return e&&jQuery.each(e,function(e,a){t.push({id:a[0],text:a[1]})}),{results:t}},cache:!1},minimumInputLength:1,multiple:!0,placeholder:"Show All"})}function go_setup_reset_filter_button(e){jQuery("#go_clipboard_user_go_sections_select, #go_clipboard_user_go_groups_select, #go_clipboard_go_badges_select, #go_task_select, #go_store_item_select").on("select2:select",function(e){go_activate_apply_filters()}),jQuery("#go_clipboard_user_go_sections_select, #go_clipboard_user_go_groups_select, #go_clipboard_go_badges_select, #go_task_select, #go_store_item_select").on("select2:unselect",function(e){go_activate_apply_filters()}),jQuery(".go_reset_clipboard").on("click",function(){jQuery("#go_datepicker").html(""),jQuery("#go_clipboard_user_go_sections_select, #go_clipboard_user_go_groups_select, #go_clipboard_go_badges_select, #go_task_select, #go_store_item_select").val(null).trigger("change"),e?(jQuery("#go_reader_read, #go_reader_reset, #go_reader_trash, #go_reader_draft").prop("checked",!1),jQuery("#go_reader_unread").prop("checked",!0),jQuery("#go_reader_order_oldest").prop("checked",!0),jQuery("#go_posts_num").val("10")):jQuery("#go_unmatched_toggle").prop("checked",!1),go_activate_apply_filters()}),go_daterange_clear()}function go_daterange_clear(){jQuery("#go_reset_datepicker").on("click",function(e){e.stopPropagation(),jQuery("#go_datepicker_container").html('<div id="go_datepicker_clipboard"><i class="fas fa-calendar" style="float: left;"></i><span id="go_datepicker"></span> <i id="go_reset_datepicker" class=""select2-selection__clear><b>  </b></i><i class="fa fa-caret-down"></i></div>'),jQuery("#go_reset_datepicker").hide(),jQuery("#go_datepicker_container").one("click",function(){go_load_daterangepicker("clear"),jQuery("#go_reset_datepicker").show(),go_daterange_clear()}),go_activate_apply_filters()})}function go_clear_daterange(){}function go_refresh_page_on_error(){Swal.fire({title:"Error",text:"Refresh the page and then try again? You will lose unsaved changes. You can cancel and copy any unsaved changes to a safe location before refresh.",type:"warning",confirmButtonText:"Refresh Now",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(e=>{e.value&&location.reload()})}function go_save_clipboard_filters(){console.log("go_save_clipboard_filters");var e=jQuery("#go_clipboard_user_go_sections_select").val(),t=jQuery("#go_clipboard_user_go_sections_select option:selected").text(),a=jQuery("#go_clipboard_user_go_groups_select").val(),o=jQuery("#go_clipboard_user_go_groups_select option:selected").text(),r=jQuery("#go_clipboard_go_badges_select").val(),s=jQuery("#go_clipboard_go_badges_select option:selected").text(),n=document.getElementById("go_unmatched_toggle").checked;localStorage.setItem("go_clipboard_section",e),localStorage.setItem("go_clipboard_badge",r),localStorage.setItem("go_clipboard_group",a),localStorage.setItem("go_clipboard_section_name",t),localStorage.setItem("go_clipboard_badge_name",s),localStorage.setItem("go_clipboard_group_name",o),localStorage.setItem("go_clipboard_unmatched",n)}function go_make_store_clickable(){jQuery(".clickable").keyup(function(e){13===e.which&&jQuery("#go_store_pass_button").click()})}function go_lb_opener(e){if(jQuery("#light").css("display","block"),jQuery(".go_str_item").prop("onclick",null).off("click"),!jQuery.trim(jQuery("#lb-content").html()).length){var t=e,a,o={action:"go_the_lb_ajax",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_the_lb_ajax,the_item_id:t};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:o,beforeSend:function(){jQuery("#lb-content").append('<div class="go-lb-loading"></div>')},cache:!1,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(t){console.log("success"),console.log(t);var a=JSON.parse(t);try{var a=JSON.parse(t)}catch(e){a={json_status:"101",html:""}}if(jQuery("#lb-content").innerHTML="",jQuery("#lb-content").html(""),jQuery.featherlight(a.html,{variant:"store",afterOpen:function(e){console.log("store-fitvids3"),go_fit_and_max_only("#go_store_description")}}),"101"===Number.parseInt(a.json_status)){console.log(101),jQuery("#go_store_error_msg").show();var o="Server Error.";jQuery("#go_store_error_msg").text()!=o?jQuery("#go_store_error_msg").text(o):flash_error_msg_store("#go_store_error_msg")}else 302===Number.parseInt(a.json_status)&&(console.log(302),window.location=a.location);jQuery(".go_str_item").one("click",function(e){go_lb_opener(this.id)}),jQuery("#go_store_pass_button").one("click",function(t){go_store_password(e)}),go_max_purchase_limit()}})}}function goBuytheItem(e,t){var a=GO_BUY_ITEM_DATA.nonces.go_buy_item,o=GO_BUY_ITEM_DATA.userID;jQuery(document).ready(function(t){var r={_ajax_nonce:a,action:"go_buy_item",the_id:e,qty:t("#go_qty").val(),user_id:o};t.ajax({url:MyAjax.ajaxurl,type:"POST",data:r,beforeSend:function(){t("#golb-fr-buy").innerHTML="",t("#golb-fr-buy").html(""),t("#golb-fr-buy").append('<div id="go-buy-loading" class="buy_gold"></div>')},error:function(e,a,o){400===e.status&&t(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){var a={};try{var a=JSON.parse(e)}catch(e){a={json_status:"101",html:"101 Error: Please try again."}}-1!==e.indexOf("Error")?t("#light").html(e):t("#light").html(a.html)}})})}function flash_error_msg_store(e){var t=jQuery(e).css("background-color");void 0===typeof t&&(t="white"),jQuery(e).animate({color:t},200,function(){jQuery(e).animate({color:"red"},200)})}function go_store_password(e){var t;if(!(jQuery("#go_store_password_result").attr("value").length>0)){jQuery("#go_store_error_msg").show();var a="Please enter a password.";return jQuery("#go_store_error_msg").text()!=a?jQuery("#go_store_error_msg").text(a):flash_error_msg_store("#go_store_error_msg"),void jQuery("#go_store_pass_button").one("click",function(t){go_store_password(e)})}var o=jQuery("#go_store_password_result").attr("value");if(jQuery("#light").css("display","block"),!jQuery.trim(jQuery("#lb-content").html()).length){var r=e,s,n={action:"go_the_lb_ajax",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_the_lb_ajax,the_item_id:r,skip_locks:!0,result:o};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:n,cache:!1,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(t){var a=JSON.parse(t);try{var a=JSON.parse(t)}catch(e){a={json_status:"101",html:""}}if("101"===Number.parseInt(a.json_status)){console.log(101),jQuery("#go_store_error_msg").show();var o="Server Error.";jQuery("#go_store_error_msg").text()!=o?jQuery("#go_store_error_msg").text(o):flash_error_msg_store("#go_store_error_msg")}else if(302===Number.parseInt(a.json_status))console.log(302),window.location=a.location;else if("bad_password"==a.json_status){jQuery("#go_store_error_msg").show();var o="Invalid password.";jQuery("#go_store_error_msg").text()!=o?jQuery("#go_store_error_msg").text(o):flash_error_msg_store("#go_store_error_msg"),jQuery("#go_store_pass_button").one("click",function(t){go_store_password(e)})}else jQuery("#go_store_pass_button").one("click",function(t){go_store_password(e)}),jQuery("#go_store_lightbox_container").hide(),jQuery(".featherlight-content").html(a.html),go_max_purchase_limit()}})}}function go_max_purchase_limit(){window.go_purchase_limit=jQuery("#golb-fr-purchase-limit").attr("val");var e=go_purchase_limit;jQuery("#go_qty").spinner({max:e,min:1,stop:function(){jQuery(this).change()}}),go_make_store_clickable(),jQuery("#go_store_admin_override").one("click",function(e){jQuery(".go_store_lock").show(),jQuery("#go_store_admin_override").hide(),go_make_store_clickable()})}function go_count_item(e){var t=GO_BUY_ITEM_DATA.nonces.go_get_purchase_count;jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:{_ajax_nonce:t,action:"go_get_purchase_count",item_id:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){if(-1!==e){var t=e.toString();jQuery("#golb-purchased").html("Quantity purchased: "+t)}}})}function go_reset_opener(e){console.log("go_reset_opener"),"multiple_messages"!=e&&null!=e||(jQuery(".go_messages_icon_multiple_clipboard").parent().prop("onclick",null).off("click"),jQuery(".go_messages_icon_multiple_clipboard").parent().one("click",function(e){go_messages_opener(null,null,"multiple_messages")})),"single_reset"!=e&&null!=e||(jQuery(".go_reset_task_clipboard").prop("onclick",null).off("click"),jQuery(".go_reset_task_clipboard").one("click",function(){go_messages_opener(this.getAttribute("data-uid"),this.getAttribute("data-task"),"single_reset",this)})),"multiple_reset"!=e&&null!=e||(jQuery(".go_tasks_reset_multiple_clipboard").parent().prop("onclick",null).off("click"),jQuery(".go_tasks_reset_multiple_clipboard").parent().one("click",function(){go_messages_opener(null,null,"multiple_reset",this)})),"single_message"!=e&&null!=e||(jQuery(".go_stats_messages_icon").prop("onclick",null).off("click"),jQuery(".go_stats_messages_icon").one("click",function(e){var t;go_messages_opener(this.getAttribute("data-uid"),null,"single_message",this)})),"reset_stage"!=e&&null!=e||(jQuery(".go_reset_task_clipboard").prop("onclick",null).off("click"),jQuery(".go_reset_task_clipboard").one("click",function(){go_messages_opener(this.getAttribute("data-uid"),this.getAttribute("data-task"),"reset_stage",this)}))}function go_messages_opener(e,t,a,o){t=void 0!==t?t:null,a=void 0!==a?a:null,console.log("type: "+a),console.log("UID: "+e),console.log("post_id: "+t),jQuery(".go_tasks_reset_multiple_clipboard").prop("onclick",null).off("click");var r=[];if("multiple_messages"==a||"multiple_reset"==a){for(var s=jQuery(".go_checkbox:visible"),n=0;n<s.length;n++)if(!0===s[n].checked){var l=s[n].getAttribute("data-uid"),i=s[n].getAttribute("data-task");"multiple_messages"==a&&(i=""),r.push({uid:l,task:i})}}else"single_reset"!=a&&"single_message"!=a&&"reset_stage"!=a||(r.push({uid:e,task:t}),"reset_stage"==a&&(console.log("target: "+o),jQuery(o).find(".go_round_inner").html("<i class='fas fa-spinner fa-pulse'></i>")));var _,c={action:"go_create_admin_message",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_create_admin_message,message_type:a,reset_vars:r};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:c,error:function(e,t,o){go_reset_opener(a),400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){var s=jQuery.parseJSON(e);if("reset"==s.type)var n="",l=!0,i=!0,_="IndianRed",c='<i class="fas fa-paper-plane"></i> Send',u='<i class="fas fa-times-circle"></i> Cancel';else if("no_users"==s.type)var n="error",l=!0,i=!1,_="grey",u='<i class="fas fa-times-circle"></i> Try again!',c="Cancel";else var n="",l=!0,i=!0,_="",c='<i class="fas fa-paper-plane"></i> Send Message',u='<i class="fas fa-times-circle"></i> Cancel';swal.fire({title:s.title,html:s.message,type:n,showCancelButton:l,showConfirmButton:i,
reverseButtons:!0,confirmButtonColor:_,confirmButtonText:c,cancelButtonText:u}).then(e=>{e.value&&go_send_message(r,a,t,this)}),jQuery(o).find(".go_round_inner").html('<i class="fas fa-times-circle"></i>'),go_reset_opener(a),jQuery(".go_messages_canned").on("change",function(e){var t;go_messages_canned(jQuery("option:selected",this))}),jQuery(".go-acf-switch").click(function(){console.log("click"),0==jQuery(this).hasClass("-on")?(jQuery(this).prev("input").prop("checked",!0),jQuery(this).addClass("-on"),jQuery(this).removeClass("-off")):(jQuery(this).prev("input").prop("checked",!1),jQuery(this).removeClass("-on"),jQuery(this).addClass("-off"))}),jQuery("#go_messages_go_badges_select").select2({ajax:{url:ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:"go_badges",is_hier:!0}},processResults:function(e){return{results:e}},cache:!1},minimumInputLength:0,multiple:!0,placeholder:"Show All",allowClear:!0}),jQuery("#go_messages_user_go_groups_select").select2({ajax:{url:ajaxurl,dataType:"json",delay:400,data:function(e){return{q:e.term,action:"go_make_taxonomy_dropdown_ajax",taxonomy:"user_go_groups",is_hier:!0}},processResults:function(e){return{results:e}},cache:!0},minimumInputLength:0,multiple:!0,placeholder:"Show All",allowClear:!0}),tippy(".tooltip",{delay:0,arrow:!0,arrowType:"round",size:"large",duration:300,animation:"scale",zIndex:999999}),jQuery("#go_additional_penalty_toggle").change(function(){var e;1==document.getElementById("go_additional_penalty_toggle").checked?jQuery(".go_penalty_table").css("display","block"):jQuery(".go_penalty_table").css("display","none")}),jQuery("#go_custom_message_toggle").change(function(){var e;1==document.getElementById("go_custom_message_toggle").checked?jQuery("#go_custom_message_table").css("display","block"):jQuery("#go_custom_message_table").css("display","none")})}})}function go_send_message(e,t,a){var o=jQuery(".go_messages_title_input").val();if("reset"==(t="multiple_reset"==t||"single_reset"==t?"reset":"reset_stage"==t?"reset_stage":"message")||"reset_stage"==t)var r=document.getElementById("go_custom_message_toggle").checked,s=document.getElementById("go_additional_penalty_toggle").checked;else var r=null,s=null;if("message"==t||("reset"==t||"reset_stage"==t)&&1==r)var n=jQuery(".go_messages_message_input").val();else n="";if("message"==t||("reset"==t||"reset_stage"==t)&&1==s){if("message"==t)var l=jQuery(".xp_toggle_messages").siblings().hasClass("-on")?1:-1,i=jQuery(".gold_toggle_messages").siblings().hasClass("-on")?1:-1,_=jQuery(".health_toggle_messages").siblings().hasClass("-on")?1:-1,c=jQuery(".badges_toggle_messages").siblings().hasClass("-on"),u=jQuery(".groups_toggle_messages").siblings().hasClass("-on");else var l=-1,i=-1,_=-1,c=!1,u=!1;console.log("xp: "+jQuery(".xp_messages").val());var g=jQuery(".xp_messages").val()*l,d=jQuery(".gold_messages").val()*i,p=jQuery(".health_messages").val()*_,h=jQuery("#go_messages_go_badges_select").val(),y=jQuery("#go_messages_user_go_groups_select").val()}else if(("reset"==t||"reset_stage"==t)&&0==s)var c=!1,u=!1,g=0,d=0,p=0,h=null,y=null;var f,j={action:"go_send_message",_ajax_nonce:GO_EVERY_PAGE_DATA.nonces.go_send_message,reset_vars:e,message_type:t,title:o,message:n,xp:g,gold:d,health:p,badges_toggle:c,badges:h,groups_toggle:u,groups:y,penalty:s};jQuery.ajax({url:MyAjax.ajaxurl,type:"POST",data:j,error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){if(console.log("send successful"),Swal.fire("Success!","","success"),jQuery("#go_tasks_datatable").remove(),go_stats_task_list(),"reset_stage"==t){var o=".go_blog_post_wrapper_"+a;jQuery(o+" .go_reset_task_clipboard").hide(),jQuery(o+" .go_status_icon").html('<i class="fas fa-times-circle fa-2x"></i>')}else go_toggle_off()}})}function go_messages_canned(e){console.log("go_messages_canned");const t=jQuery(e).data("title"),a=jQuery(e).data("message"),o=jQuery(e).data("toggle"),r=jQuery(e).data("xp"),s=jQuery(e).data("gold"),n=jQuery(e).data("health");console.log(t),console.log(a),console.log(o),console.log(r),console.log(s),console.log(n),jQuery(e).closest(".swal2-container").find(".go_messages_title_input").val(t),jQuery(e).closest(".swal2-container").find(".go_messages_message_input").val(a),jQuery(e).closest(".swal2-container").find(".go_messages_toggle_input").val(o),jQuery(e).closest(".swal2-container").find(".go_messages_xp_input").val(r),jQuery(e).closest(".swal2-container").find(".go_messages_gold_input").val(s),jQuery(e).closest(".swal2-container").find(".go_messages_health_input").val(n),o?jQuery(e).closest(".swal2-container").find(".go-acf-switch").addClass("-on").removeClass("-off"):jQuery(e).closest(".swal2-container").find(".go-acf-switch").addClass("-off").removeClass("-on")}function go_toggle_off(){checkboxes=jQuery(".go_checkbox");for(var e=0,t=checkboxes.length;e<t;e++)checkboxes[e].checked=!1}function go_Vids_Fit_and_Box(e){runmefirst(e,function(){go_Max_width_and_LightboxNow()})}function runmefirst(e,t){jQuery(e).fitVids(),t()}function go_fit_and_max_only(e){go_fit_and_max_only_first(e,function(){go_Max_width()})}function go_fit_and_max_only_first(e,t){jQuery(e).fitVids(),t()}function go_video_resize(){var e=jQuery(".featherlight-content .fluid-width-video-wrapper").css("padding-top"),t=jQuery(".featherlight-content .fluid-width-video-wrapper").css("width"),a=(e=parseFloat(e))/(t=parseFloat(t));console.log("Vratio:"+a);var o=jQuery(window).width();console.log("vW:"+o);var r=o,s=jQuery(window).height();console.log("vH:"+s);var n=o*a;console.log("cH1:"+n),n>s&&(n=s-50,console.log("cH2:"+n),r=n/a,console.log("cW:"+r)),jQuery(".featherlight-content").css("width",r),jQuery(".featherlight-content").css("height",n)}function go_Max_width(){var e=GO_EVERY_PAGE_DATA.go_fitvids_maxwidth;console.log("max"+e),jQuery(".fluid-width-video-wrapper:not(.fit)").each(function(){jQuery(this).wrap('<div class="max-width-video-wrapper" style="position:relative;"><div>'),jQuery(this).addClass("fit"),jQuery(".max-width-video-wrapper").css("max-width",e)}),jQuery(".wp-video:not(.fit)").each(function(){jQuery(this).wrap('<div class="max-width-video-wrapper" style="position:relative;"><div>'),jQuery(this).addClass("fit"),jQuery(".max-width-video-wrapper").css("max-width",e)})}function go_Max_width_and_LightboxNow(){var e;if(go_Max_width(),"1"===GO_EVERY_PAGE_DATA.go_lightbox_switch){jQuery(".max-width-video-wrapper:not(.wrapped):has(iframe)").each(function(){jQuery(this).prepend('<a style="display:block;" class="featherlight_wrapper_iframe" href="#" ><div style="position:absolute; width:100%; height:100%; top:0; left: 0; z-index: 1;"></div></a>'),jQuery(".max-width-video-wrapper").children().unbind(),jQuery(this).addClass("wrapped")}),jQuery('[class^="featherlight_wrapper_iframe"]').each(function(){var e=jQuery(this).parent().find(".fluid-width-video-wrapper").parent().html();jQuery(this).attr("href",'<div id="go_video_container" style=" overflow: hidden;">'+e+"</div>"),jQuery(".featherlight_wrapper_iframe").featherlight({targetAttr:"href",closeOnEsc:!0,variant:"fit_and_box",afterOpen:function(e){jQuery(".featherlight-content").css({width:"100%",overflow:"hidden"}),jQuery(".featherlight-content iframe").attr("src",jQuery(".featherlight-content iframe").attr("src")+"&autoplay=1"),go_video_resize(),jQuery(window).resize(function(){go_video_resize()})}})});var t=setInterval(function(){jQuery(".max-width-video-wrapper:not(.wrapped):has(video)").length&&(console.log("Exists!"),clearInterval(t),jQuery(".max-width-video-wrapper:not(.wrapped):has(video)").each(function(){var e=jQuery(this).find("video").attr("src");console.log("src:"+e),jQuery(this).prepend('<a href=\'#\' class=\'featherlight_wrapper_vid_shortcode\' data-featherlight=\'<div id="go_video_container" style="height: 90vh; overflow: hidden; text-align: center;"> <video controls autoplay style="height: 100%; max-width: 100%;"><source src="'+e+"\" type=\"video/mp4\">Your browser does not support the video tag.</video></div>'  data-featherlight-close-on-esc='true' data-featherlight-variant='fit_and_box native2' ><span style=\"position:absolute; width:100%; height:100%; top:0; left: 0; z-index: 4;\"></span></a> "),jQuery(this).addClass("wrapped")}))},100)}}function go_to_this_map(e){var t=GO_EVERY_PAGE_DATA.nonces.go_to_this_map;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_to_this_map",map_id:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){console.log("success"),window.location.href=e}})}function go_show_map(e){document.getElementById("maps").style.display="none",document.getElementById("loader_container").style.display="block";var t=GO_EVERY_PAGE_DATA.nonces.go_update_last_map,a=jQuery("#go_map_user").data("uid");console.log(e),jQuery.ajax({type:"POST",url:MyAjax.ajaxurl,data:{action:"go_update_last_map",goLastMap:e,_ajax_nonce:t,uid:a},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){jQuery("#mapwrapper").html(e),console.log("success!"),go_resizeMap(),document.getElementById("loader_container").style.display="none",document.getElementById("maps").style.display="block"}})}function go_resizeMap(){console.log("resize");var e,t="#map_"+jQuery("#maps").data("mapid"),a=jQuery(t+" .primaryNav > li").length-1;0==a&&(a=1),a==1/0&&(a=1);var o=100/a,r=jQuery(t).width()/a;100==o?(jQuery(t+" .primaryNav > li").css("width","90%"),jQuery(t+" .primaryNav li").css("float","right"),jQuery(t+" .tasks > li").css("width","80%"),jQuery(t+" .primaryNav li").addClass("singleCol")):r>=130?(jQuery(t+" .primaryNav li").css("float","left"),jQuery(t+" .primaryNav li").css("width",o+"%"),jQuery(t+" .tasks > li").css("width","100%"),jQuery(t+" .primaryNav li").css("background","")):(jQuery(t+" .primaryNav > li").css("width","100%"),jQuery(t+" .primaryNav li").css("float","right"),jQuery(t+" .tasks > li").css("width","95%"),jQuery(t+" .primaryNav li").addClass("singleCol")),jQuery("#sitemap").css("visibility","visible"),jQuery("#maps").css("visibility","visible")}function go_map_dropDown(){document.getElementById("go_Dropdown").classList.toggle("show")}function go_user_map(e){console.log("map");var t=GO_EVERY_PAGE_DATA.nonces.go_user_map_ajax;jQuery.ajax({type:"post",url:MyAjax.ajaxurl,data:{_ajax_nonce:t,action:"go_user_map_ajax",uid:e},error:function(e,t,a){400===e.status&&jQuery(document).trigger("heartbeat-tick.wp-auth-check",[{"wp-auth-check":!1}])},success:function(e){-1!==e&&jQuery.featherlight(e,{variant:"map",afterOpen:function(){console.log("after"),go_resizeMap(),jQuery(window).resize(function(){}),jQuery(window).on("resize",function(){go_resizeMap()})}})}})}jQuery(document).ready(function(){setTimeout(set_height_mce,1e3),jQuery("input,select").bind("keydown",function(e){var t;13===(e.keyCode||e.which)&&(e.preventDefault(),jQuery("input, select, textarea")[jQuery("input,select,textarea").index(this)+1].focus())})}),jQuery(document).ready(function(){if("undefined"!=typeof go_is_options_page)var e=go_is_options_page.is_options_page;e&&(Go_orgGrowth=jQuery("#go_levels_growth").find("input").val(),go_levels_limit_each(),jQuery(".go_levels_repeater_numbers").find("input").change(go_levels_limit_each),jQuery(".go_levels_repeater_names").find("input").change(go_level_names),jQuery("#go_levels_growth").find("input").change(go_validate_growth),acf.add_action("append",function(e){if(jQuery(e).closest("#go_levels_repeater").length){var t=e.find("input").first();jQuery(t).change(go_levels_limit_each);var a=e.find("input").last();jQuery(a).change(go_level_names),go_levels_limit_each(),go_level_names()}}),jQuery("#go_levels_max").append('<br><a class="acf-button button button-primary" style="float: right;" href="#">Recaculate</a><br>'),jQuery("#go_levels_max").click(function(){go_levels_recalc_each()}),jQuery(".more_info_accordian").accordion({collapsible:!0,header:"h3",active:!1,autoHeight:!1}))}),jQuery(document).ready(function(){if("undefined"!=typeof GO_EDIT_STORE_DATA)var e=GO_EDIT_STORE_DATA.is_store_edit;if(e){var t,a,o="<a id="+GO_EDIT_STORE_DATA.postid+" class='go_str_item ab-item' >View "+GO_EDIT_STORE_DATA.store_name+" Item</a>";jQuery("#wp-admin-bar-view").html(o)}}),jQuery(document).ready(function(){jQuery("#go_show_private").one("click",function(e){go_show_private(this)}),jQuery("#go_hidden_mce").remove(),jQuery("#go_hidden_mce_edit").remove(),go_blog_new_posts()}),jQuery(document).ready(function(){if("undefined"!=typeof GO_CLIPBOARD_DATA){go_load_daterangepicker("clipboard"),jQuery("#records_tabs").length&&(jQuery("#records_tabs").tabs(),jQuery(".clipboard_tabs").click(function(){switch(tab=jQuery(this).attr("tab"),tab){case"clipboard":go_clipboard_stats_datatable(!1),jQuery("#go_clipboard_stats_datatable").DataTable().columns.adjust().responsive.recalc();break;case"store":go_clipboard_store_datatable(),jQuery("#go_clipboard_store_datatable").DataTable().columns.adjust().responsive.recalc(),go_make_select2_cpt("#go_store_item_select","go_store");break;case"messages":go_clipboard_messages_datatable(),jQuery("#go_clipboard_messages_datatable").DataTable().columns.adjust().responsive.recalc();break;case"activity":go_clipboard_activity_datatable(),jQuery("#go_clipboard_activity_datatable").DataTable().columns.adjust().responsive.recalc(),go_make_select2_cpt("#go_task_select","tasks");break}})),jQuery("#records_tabs").length&&jQuery("#records_tabs").css("margin-left","");var e=localStorage.getItem("go_clipboard_unmatched");1!=e&&"true"!=e||jQuery("#go_unmatched_toggle").prop("checked",!0),go_make_select2_filter("user_go_sections","section",!0),go_make_select2_filter("user_go_groups","group",!0),go_make_select2_filter("go_badges","badge",!0),go_clipboard_stats_datatable(),jQuery("#go_unmatched_toggle").change(function(){jQuery(".go_update_clipboard").addClass("bluepulse"),jQuery(".go_update_clipboard").html('<span class="ui-button-text">Apply Filters<i class="fas fa-filter" aria-hidden="true"></i></span>')}),go_setup_reset_filter_button(!1)}}),jQuery(document).ready(function(){jQuery("#go_tool_update").one("click",function(){go_update_go_ajax()}),jQuery("#go_tool_update_no_loot").one("click",function(){go_update_go_ajax_no_task_loot()}),jQuery("#go_reset_all_users").one("click",function(){go_reset_all_users_dialog()}),jQuery("#go_tool_update_v5").one("click",function(){go_update_go_ajax_v5_check()})}),jQuery(document).ready(function(){let e;jQuery(".go_feedback_canned").on("change",function(e){var t=jQuery("option:selected",this);go_feedback_canned(t)}),"true"!=go_debug?(jQuery(document).on("heartbeat-tick",function(e,t){t.go_message&&jQuery("body").append(t.go_message)}),jQuery(document).on("heartbeat-send",function(e,t){console.log("send"),t.go_heartbeat=!0})):console.log("Game On Debug Mode On")}),jQuery(document).ready(function(){jQuery(".go_str_item").one("click",function(e){go_lb_opener(this.id)})}),function(e){"use strict";e.fn.fitVids=function(t){var a={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var o=document.head||document.getElementsByTagName("head")[0],r=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",s=document.createElement("div");s.innerHTML='<p>x</p><style id="fit-vids-style">'+r+"</style>",o.appendChild(s.childNodes[1])}return t&&e.extend(a,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];a.customSelector&&t.push(a.customSelector);var o=".fitvidsignore";a.ignore&&(o=o+", "+a.ignore);var r=e(this).find(t.join(","));(r=(r=r.not("object object")).not(o)).each(function(){var t=e(this);if(!(t.parents(o).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var a,r,s=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("name")){var n="fitvid"+e.fn.fitVids._count;t.attr("name",n),e.fn.fitVids._count++}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*s+"%"),t.removeAttr("height").removeAttr("width")}})})},e.fn.fitVids._count=0}(window.jQuery||window.Zepto),jQuery(window).ready(function(){go_Vids_Fit_and_Box("body")}),window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t=document.getElementsByClassName("dropdown-content"),a;for(a=0;a<t.length;a++){var o=t[a];o.classList.contains("show")&&o.classList.remove("show")}}};